Fp = 1000%input('passband edge in Khz = ');
Fs = 1250%input('stopband edge in Khz = ');
Ft = 5000%input('Sampling rate in Khz = ');
Rp =0.4% input('Passband ripple in dB = ');
Rs =45% input('Minimum stopband attenuation in dB = ');
Wp=2*Fp/Ft;
Ws=2*Fs/Ft;
[N,Wn] = ellipord(Wp,Ws,Rp,Rs);
[b,a] = ellip(N,Rp,Rs,Wn);
[h,omega] = freqz(b,a,256);
plot (omega/pi,20*log10(abs(h)));grid;
xlabel('\omega/\pi'); ylabel('Gain, dB');
title('IIR Elliptic Lowpass Filter');
%figure(2);
%subplot(2,1,1);
%plot(omega/pi,20*log10(abs(h))); grid;
%axis([0 1 -60 5]);
%subplot(2,1,2);
%plot(omega/pi,20*log10(abs(h))); grid;
%axis([0 0.4 -0.6 0.2]);